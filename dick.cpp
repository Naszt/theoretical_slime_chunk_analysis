#include <bits/stdc++.h>
using i8=unsigned long long;
using i4=unsigned int;
inline bool check(i8 seed,int x,int z){//=H(seed+f(x)+g(z))
  i8 rng=(seed+x*x*4987142+x*5947611+z*z*4392871ll+z*389711);
  return (i4(((rng^0x5E434E432)*0x5DEECE66D)>>16)>>1)%10==0;
}
inline i8 f(int x){return 0ll+x*x*4987142+x*5947611;}
inline i8 g(int z){return z*z*4392871ll+z*389711;}
inline bool H(i8 r){return (i4(((r^0x5E434E432)*0x5DEECE66D)>>16)>>1)%10==0;}
i4 n=6;int bound;
std::unordered_multimap<int,i4>pos;
//std::vector<int>join(i4 c){
//  std::vector<int>vec;i4 cnt=0;
//  for(int z=-bound;z<=bound;++z){
//    if(H(c+g(z))){++cnt;continue;}
//    if(cnt<n){cnt=0;continue;}cnt=0;
//    if(pos.count(z-1)){vec.push_back(z-1);continue;}
//    pos.insert({z-1,c});
//  }return vec;
//}
std::vector<int> join(i4 c) {
  const int total_range = 2 * bound + 1;
  const int num_threads = std::thread::hardware_concurrency();
  const int chunk_size = total_range / num_threads + 1;
  
  std::vector<std::future<std::vector<int>>> futures;
  std::vector<int> result;
  std::mutex result_mutex;
  std::mutex pos_mutex;  // 如果 pos 需要线程安全访问
  
  auto worker = [&](int start_z, int end_z) -> std::vector<int> {
    std::vector<int> local_vec;
    i4 local_cnt = 0;
    
    for (int z = start_z; z <= end_z; ++z) {
      if (H(c + g(z))) {
        ++local_cnt;
        continue;
      }
      
      if (local_cnt < n) {
        local_cnt = 0;
        continue;
      }
      local_cnt = 0;
      
      // 线程安全的 pos 访问
      bool has_pos;
      {
        std::lock_guard<std::mutex> lock(pos_mutex);
        has_pos = pos.count(z - 1);
      }
      
      if (has_pos) {
        local_vec.push_back(z - 1);
        continue;
      }
      
      {
        std::lock_guard<std::mutex> lock(pos_mutex);
        pos.insert({z - 1, c});
      }
    }
    return local_vec;
  };
  
  // 启动线程
  for (int t = 0; t < num_threads; ++t) {
    int start_z = -bound + t * chunk_size;
    int end_z = std::min(start_z + chunk_size - 1, bound);
    if (start_z <= bound) {
      futures.push_back(std::async(std::launch::async, worker, start_z, end_z));
    }
  }
  
  // 收集结果
  for (auto& future : futures) {
    auto partial_result = future.get();
    std::lock_guard<std::mutex> lock(result_mutex);
    result.insert(result.end(), partial_result.begin(), partial_result.end());
  }
  
  return result;
}
bool solve(i4 c1,i4 c2,int z){
  i4 delta=c2-c1;
  if((delta&3)!=1)return 0;
  i4 x0=(((delta-10934753)>>2)*381395499)&((1<<30)-1);
  for (i4 k=0;k^4;++k){
    int x=x0+(k<<30);
    i8 fx=f(x),fx1=f(x+1);
    if(fx1-fx==(i8)c2-c1){
      i8 s=c1-fx;i4 cnt=0;
      cnt =check(s,x-1,z+1)+check(s,x+2,z+1);
      if(cnt<2)return 1;
      cnt+=check(s,x-1,z+2)+check(s,x-2,z+1)+check(s,x-2,z+2)+check(s,x+2,z+2)+check(s,x+3,z+1)+check(s,x+3,z+2);
      if(cnt<=7)return 1;
      printf("seed=%lld,x=%lld",s,16ll*x);
      printf(",z=%lld            \n",z*16ll);
//      printf(",z=%lld:check=%u\n",z*16ll,cnt);
      return 1;
    }
  }return 0;
}
int main(){
  bound=pow(10,std::min(8u,n+1));
  std::mt19937 rnd(time(0));
  for(i4 cnt=0,coll=0,ans=0;;cnt++){
    if(cnt%100==0)printf("种子:%u,元素:%u,碰撞:%u,解:%u\r",cnt,pos.size(),coll,ans);
    i4 c1=cnt;
    auto all_z=join(c1);
    for(auto z:all_z){
      coll+=pos.count(z);
      auto [l,r]=pos.equal_range(z);
      for(auto it=l;it!=r;++it){
        if(solve(c1,it->second,z))ans++;
        if(solve(it->second,c1,z))ans++;
      }pos.insert({z,c1});
    }
  }
  return 0;
}
/*
seed=-3466374598,x=14680071296,z=-147922272
seed=436220050,x=7020086480,z=109260464
seed=956101480,x=16843240128,z=-23235168
seed=1228429479,x=8974126416,z=-142634992
seed=967684935,x=3285026768,z=123983856
seed=1223269912,x=14030865040,z=11244544
seed=1207711452,x=10633633168,z=104306608
seed=130489462,x=845809728,z=58096400
seed=1362850584,x=396851584,z=-43723600
seed=-3462558384,x=14680071296,z=-54295728
seed=43750008,x=6254610240,z=-127820000
seed=-650751580,x=7936205248,z=-39341328
seed=2289318893,x=10840026864,z=-126256080
seed=-2012049829,x=16351745200,z=-81811376
seed=-1054375186,x=15679279424,z=96553456
seed=2011318219,x=5996440704,z=-79238368
seed=-861242840,x=6977942400,z=-109534656
seed=1541858000,x=14017747120,z=-27392464
seed=-1431346647,x=521361616,z=-159630800
seed=967671091,x=8286124448,z=36407232
seed=3747855043,x=14651176048,z=157656368
seed=-1380033426,x=14112624688,z=-100192816
seed=94683782,x=13962485120,z=68437136
seed=455887669,x=5434395600,z=-29349968
seed=-3674515964,x=8214182576,z=154452224
seed=2005730532,x=13772523264,z=112089120
seed=2491510115,x=13414922080,z=106031424
seed=-883537678,x=12731853120,z=121150112
seed=566410148,x=9158562752,z=-130019616
seed=-2961650083,x=10383056048,z=-95967456
seed=1423479709,x=13541788384,z=61025888
seed=1472796915,x=8685387440,z=-156053312
seed=-94845972,x=1097296272,z=-13109072
seed=-1503589990,x=4589398832,z=-132452992
seed=-1821601166,x=16853099248,z=-152344080
seed=-2788949652,x=1166103360,z=-61729600
seed=2136888187,x=14805897248,z=97339392
seed=705727290,x=6477890496,z=-95383136
seed=-2977587898,x=16860691648,z=-51372400
seed=-704419670,x=12498424384,z=105301648
seed=1783362093,x=16513218272,z=16796688
seed=-1821611130,x=1736078464,z=5487824
seed=-416043336,x=10566631168,z=-27716320
seed=-3458790272,x=14680071296,z=18300128
seed=2565325126,x=12787934992,z=14184848
seed=-1986665912,x=14071293600,z=27152192
seed=3343222734,x=3353454912,z=33687280
seed=4034383331,x=2488650368,z=44785008
seed=275811600,x=9739382192,z=150230112
seed=656655359,x=1741438640,z=-138301120
seed=-1000181232,x=8600114048,z=71556688
seed=-2252536198,x=4543651456,z=69733856
seed=-3962195711,x=464342736,z=13394368
seed=-303341147,x=15731323952,z=124771200
seed=1325720842,x=16406979648,z=-11492528
seed=2451076959,x=7323872480,z=48481792
seed=-519852213,x=3233457616,z=2893152
seed=1457410919,x=5733896240,z=-32513568
seed=-1684332454,x=16572634752,z=-104461520
seed=-3735841406,x=14931812784,z=49521792
seed=1738685698,x=12051360896,z=-148712512
seed=-2413108705,x=3019271712,z=-42559136
seed=2737328336,x=1173861120,z=41720672
seed=-540766234,x=1428523808,z=-7888656
seed=-981942948,x=3354481472,z=124986736
seed=1879601995,x=5874555632,z=-38417488
seed=-1554137997,x=16940770224,z=100402144
seed=-1760376038,x=11801644992,z=-16236880
seed=2749922652,x=420138656,z=51147760
seed=1691337213,x=9716232912,z=76009744
seed=711236212,x=5978734272,z=38510128
seed=-374863056,x=8855631056,z=-29086528
seed=-1593222074,x=9948766016,z=-64513376
seed=-3907136924,x=1364339712,z=-69259488
seed=500487545,x=8692159968,z=-10849136
seed=587583916,x=8601140608,z=-53657168
seed=-220083322,x=1766392992,z=35113104
seed=1442269170,x=293795968,z=-144798816
seed=877117356,x=9098794912,z=-79030704
seed=2246263507,x=12236644656,z=-128253088
seed=971275465,x=10217745424,z=15716256
seed=-1515235742,x=882552320,z=137273552
seed=-197057535,x=7479882064,z=50591296
seed=-1049314108,x=15679279424,z=-150088928
seed=-922350224,x=15798932256,z=-32984752
seed=-54700427,x=14261345008,z=-20973856
seed=-865279630,x=15852520064,z=155182352
seed=116409528,x=13169277952,z=-12045792
seed=3413395120,x=13305397072,z=16137888
seed=2125193120,x=1889132384,z=-47491232
seed=643718600,x=2757064832,z=45386432
seed=-985773511,x=11994479824,z=-113220736
seed=2738540116,x=1173861120,z=97841568
seed=-1670067229,x=9875246400,z=-125911984
seed=-1634466574,x=7802621520,z=70908704
seed=3103669440,x=14581680000,z=-141422816
seed=342766983,x=9503418064,z=-133204800
seed=936553588,x=8291312368,z=45037632
seed=-224855303,x=4905958288,z=-79849120
seed=3373288331,x=3958326192,z=-62596000
seed=-1724438170,x=15173901824,z=-109959440
seed=-855574110,x=6977942400,z=-138880896
seed=-1728425970,x=14178262528,z=-92236768
seed=3229960252,x=12603588240,z=55159136
seed=1780254142,x=1914644800,z=-88088912
seed=-2440972836,x=11558639616,z=-126158544
seed=-590968081,x=2049771808,z=-2358336
seed=11603657,x=16757966752,z=93548064
seed=-979899424,x=3354481472,z=-47264864
seed=1526608131,x=5932284144,z=61219632
seed=1712487293,x=1891833136,z=-47491232
seed=-177667566,x=16226787344,z=-78977920
seed=1824358436,x=1853809056,z=-63400480
seed=-2822836252,x=10157770880,z=-117236608
seed=447701951,x=14153652656,z=-132434448
seed=1237493071,x=10203552720,z=-34432720
seed=-3656045501,x=1292184240,z=81106688
seed=-22664116,x=11567768416,z=35929888
seed=2218036915,x=11392681344,z=-60982368
seed=3236609798,x=15010534080,z=12231824
seed=1454874468,x=16085218496,z=-122797872
seed=2708269818,x=5438894560,z=134479008
seed=-2822264020,x=10157770880,z=23573152
seed=1517249309,x=7987181904,z=132566240
seed=-1001053370,x=3304283392,z=144795712
seed=1693748834,x=207626928,z=-58846592
seed=-1352972576,x=9257980608,z=139057600
seed=363292959,x=1295573968,z=-73407232
seed=-117879689,x=8825488784,z=-21892976
seed=-1046739550,x=15679279424,z=106038000
seed=1388142753,x=2611437984,z=-138572368
seed=762919317,x=12001369488,z=139696192
seed=-2676971149,x=1914383024,z=70581712
seed=-834041651,x=5909754928,z=133125856
seed=-2729310592,x=17121086560,z=72246336
seed=-2576293995,x=12231077824,z=77187792
seed=-1423948470,x=1152771856,z=39611168
seed=-2834079832,x=11780838208,z=-56890464
seed=3388781706,x=120424448,z=-62862560
seed=165175071,x=7494929088,z=-47957712
seed=290455613,x=14070225680,z=29827456
seed=-1716730705,x=8079310480,z=156397536
seed=1071241058,x=1145634160,z=157276064
seed=951586192,x=2032368512,z=35075760
seed=325032509,x=12614728816,z=-110337648
seed=-919260074,x=6189702720,z=46167616
seed=786828132,x=16965724608,z=20496544
seed=3424844194,x=16966544480,z=-8854240
seed=-2424051836,x=6038398784,z=123021456
seed=2406943801,x=17067932768,z=-447168
seed=-1993761518,x=10743647360,z=-136421072
seed=1164450349,x=14682558480,z=145341328
seed=-2304857014,x=8584639856,z=92565328
seed=518881432,x=12762298560,z=79886432
seed=967635816,x=16843240128,z=-23235168
seed=1789437856,x=12780046336,z=141782544
seed=219245892,x=11264836736,z=-113178720
seed=3823830947,x=10345286896,z=-86890736
seed=704485627,x=13685927072,z=148058528
seed=-647835136,x=5426548256,z=-113770784
seed=1059255574,x=3317566672,z=17354656
seed=1733587205,x=7529398080,z=-83288512
seed=3699024964,x=8794664416,z=-58362896
seed=2264487793,x=2585153920,z=134847840
seed=-1826088964,x=672438176,z=-146204528
seed=3715939416,x=5926558848,z=96719344
seed=-714921290,x=8996290480,z=70231360
seed=-697425785,x=11434005584,z=-159144032
seed=1344536848,x=13400267776,z=-109443184
seed=1972974037,x=5714391584,z=-144925920
seed=-1889480870,x=1123663040,z=119792672
seed=-1478978425,x=1455786240,z=148480080
seed=-2077618072,x=14444065808,z=-100660944
seed=-1494932085,x=6616834368,z=-116120672
seed=-1841195394,x=7538740480,z=99855104
seed=79541918,x=2527404736,z=-102528944
seed=764832667,x=9044180528,z=-14747456
seed=-2335703718,x=16217741232,z=157093488
seed=-149367352,x=596341856,z=-108012624
seed=-2900463171,x=14881180608,z=-47491232
seed=-383817457,x=11277871984,z=-80331120
seed=1636982464,x=6869299264,z=98966832
种子:14600500,元素:290236896,碰撞:936602187,解:475296228
*/
